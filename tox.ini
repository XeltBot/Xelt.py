[tox]
env_list =
    py3.11
    py3.10
minversion = 4.2.6
isolated_build = true
skipsdist = true

[testenv:py3.11]
description = Run tests with Pytest (Python 3.11)
allowlist_externals = poetry, pytest, python
deps =
    pytest>=7
commands =
    poetry install --with=dev
    poetry run pytest {tty:--color=yes} tests/redis {posargs} 

[testenv:py3.10]
description = Run tests with Pytest (Python 3.10)
allowlist_externals = poetry, pytest, python
deps =
    pytest>=7
commands =
    poetry install --with=dev
    poetry run pytest {tty:--color=yes} tests/redis {posargs} 